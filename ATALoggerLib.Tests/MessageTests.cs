using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using MbUnit.Framework;

namespace ATALoggerLib.Tests
{
	[TestFixture]
	public class MessageTests
	{
		[Test]
		public void GetSerialNumberMessageTest()
		{
			var receivedMessage=new byte[] {
				0x01, 0x16, 0x7b, 0x28, 
  
				0x48, 0x32, 0x30, 0x31,   0x34, 0x30, 0x31, 0x35, 0x39, 0x38, 						//				"H201401598"
  
				0x52, 0x01,																							//0x52 0x51 
  
				0x02, 
  
				0x46, 0x52, 0x49, 0x47, 0x4f, 0x20, 0x41, 0x50, 0x4f, 0x54, 0x48, 0x45, 0x45, 0x4b, 0x20, 0x53, 	//	"FRIGO APOTHEEK S"
  
				0x00, 0x00, 0x00, 0x00, 
  
				0x00, 0x00, 0x00, 0x00, 
  
				0x01, 
  
				0x07, 0x00, 0x55, 0x00, 0x77, 
  
				0x29, 0x7d, 0x7e, 0x04
			};

			var a = Utils.Map<AnswerGetSerialNumberMessage>(receivedMessage);
			Assert.IsTrue(a.IsValid());

			Assert.AreEqual("H201401598",a.GetSerialNumber());

		}
	}
}
